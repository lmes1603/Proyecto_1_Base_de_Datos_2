create table Edificio (edo_codigo varchar2(8) primary key , edo_nombre varchar2(40));
create table Piso (pso_codigo varchar2(4) primary key, pso_nombre varchar2(45));
create table Prioridad (opa_codigo varchar2(4) primary key, opa_nombre varchar2(20));
create table Estatus (etu_codigo varchar2(2) primary key, etu_nombre varchar2(20),etu_descripcion varchar2(20));
create table Tipo_de_Servicio (tso_codigo varchar2(4) primary key, tso_nombre varchar2(45),tso_descripcion varchar2(200),opa_codigo varchar2(4),FOREIGN KEY (opa_codigo) references Prioridad(opa_codigo));
create table Tipo_Material (tml_codigo varchar2(4) primary key, tml_nombre varchar2(30),tml_descripcion varchar2(20));
create table Material (mtl_codigo varchar2(4) primary key, mtl_nombre varchar2(45),mtl_cantidad number, tml_codigo varchar2(4),FOREIGN KEY (tml_codigo) references Tipo_Material(tml_codigo) );
create table Servicio (svo_codigo varchar2(4) primary key, svo_nombre varchar2(45),svo_descripcion varchar2(45),tso_codigo varchar2(4),FOREIGN KEY (tso_codigo) references Tipo_de_Servicio(tso_codigo) );
create table Asig_Tarea (ata_cantidad number,svo_codigo varchar2(4) , FOREIGN KEY (svo_codigo) references Servicio(svo_codigo),mtl_codigo varchar2(4), FOREIGN KEY (mtl_codigo) references Material(mtl_codigo), primary key(svo_codigo,mtl_codigo) );
create table Centro (ctr_id_centro varchar2(20), ctr_ano_fiscal varchar2(4), primary key(ctr_id_centro,ctr_ano_fiscal), crt_descripcion varchar2(100), crt_sub_codigo varchar2(8), crt_ubicacion varchar2(50), crt_telefono1 varchar2(12), crt_telefono2 varchar2(12), crt_correo_elec varchar2(50), crt_creado_por varchar2(30), crt_modificado_por varchar2(30), crt_fecha_update date);
create table Administrador (nacionalidad char,cedula varchar2(10), infa_ctr_id_centro varchar2(20),infa_ctr_ano_fiscal varchar2(4), FOREIGN KEY (infa_ctr_id_centro,infa_ctr_ano_fiscal) references Centro(ctr_id_centro,ctr_ano_fiscal), infa_pern_tipn_codigo varchar2(10), primary key(cedula,infa_ctr_ano_fiscal,infa_ctr_id_centro) );
create table Jefe(cargo varchar2(45),tipo varchar2(4), nac char, ced varchar2(10),jef_ctr_ano_fiscal varchar2(4),jef_ctr_id_centro varchar2(20),FOREIGN KEY (jef_ctr_ano_fiscal,jef_ctr_id_centro) references Centro(ctr_id_centro,ctr_ano_fiscal),jef_infa_ctr_ano_fiscal varchar2(4),jef_infa_ctr_id_centro varchar2(20), jef_fecha_fin date, jef_fecha_ini date,  primary key(ced,nac,jef_fecha_ini,jef_infa_ctr_ano_fiscal,jef_infa_ctr_id_centro) );
create table Formato (fmo_codigo varchar2(20),jef_infa_pern_tipn_codigo varchar2(20), jef_infa_nacionalidad char,jef_infa_cedula varchar2(10),jef_infa_ctr_id_centro varchar2(20),jef_infa_ctr_ano_fiscal varchar(4),jef_fecha_ini date, FOREIGN KEY (jef_infa_nacionalidad,jef_infa_cedula,jef_infa_ctr_id_centro,jef_infa_ctr_ano_fiscal,jef_fecha_ini) references Jefe(nac,ced,jef_infa_ctr_id_centro,jef_infa_ctr_ano_fiscal,jef_fecha_ini), fmo_fecha date, primary key(fmo_codigo));
create table Persona(nacionalidad char,cedula varchar2(10) primary key,sexo char,nombre varchar2(45),apellido varchar2(45));
create table Asig_Materil(fmo_codigo varchar2(20), FOREIGN KEY (fmo_codigo) references Formato(fmo_codigo),svo_codigo varchar2(4), FOREIGN KEY (svo_codigo) references Servicio(svo_codigo),mtl_codigo varchar2(4), FOREIGN KEY (mtl_codigo) references Material(mtl_codigo),aml_cantidadestimada number,aml_cantidadusada number, primary key(mtl_codigo,svo_codigo,fmo_codigo) );
create table Localidad( lcd_codigo varchar2(4) primary key,ctr_ano_fiscal varchar2(4),ctr_id_centro varchar2(20), FOREIGN KEY (ctr_ano_fiscal,ctr_id_centro) references Centro(ctr_ano_fiscal,ctr_id_centro),edo_codigo varchar2(8), FOREIGN KEY (edo_codigo) references Edificio(edo_codigo),pso_codigo varchar2(4) , FOREIGN KEY (pso_codigo) references Piso(pso_codigo),lcd_nombre varchar2(45));
create table Item(fmo_codigo varchar2(20), FOREIGN KEY (fmo_codigo) references Formato(fmo_codigo),svo_codigo varchar2(4) , FOREIGN KEY (svo_codigo) references Servicio(svo_codigo),lcd_codigo varchar2(4) , FOREIGN KEY (lcd_codigo) references Localidad(lcd_codigo),itm_observacion varchar2(90), primary key(svo_codigo,fmo_codigo));
create table Item_Historio(fmo_codigo varchar2(20),svo_codigo varchar2(4), FOREIGN KEY (fmo_codigo,svo_codigo) references Item(fmo_codigo,svo_codigo),etu_codigo varchar2(2), FOREIGN KEY (etu_codigo) references Estatus(etu_codigo),his_fecha_inicio date,his_observacion varchar2(95),his_fecha_fin date, primary key(svo_codigo,fmo_codigo));
